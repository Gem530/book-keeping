{"version":3,"sources":["webpack:///E:/uni-project/book-keeping/component/sider/index.vue?45ec","webpack:///E:/uni-project/book-keeping/component/sider/index.vue?0a49","webpack:///E:/uni-project/book-keeping/component/sider/index.vue?98e9","webpack:///E:/uni-project/book-keeping/component/sider/index.vue?8cb0","uni-app:///component/sider/index.vue","webpack:///E:/uni-project/book-keeping/component/sider/index.vue?481a","webpack:///E:/uni-project/book-keeping/component/sider/index.vue?51de"],"names":["name","props","curMonth","data","db","buget","keyList","allBill","uplaodBtn","currentSize","nightShow","startTime","endTime","list","icon","id","fun","watch","handler","endDate","that","userId","time","and","immediate","deep","computed","theme","colorTheme","created","uni","key","success","fail","v","methods","toPrimary","url","uploadStorage","title","openWallet","logOut","content","getTimeStr","getMonthDay","change","isType","silderClick","changeBg","dialogInputConfirm"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,gWAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACuBtnB;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;EACAC;IACAC;EACA;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,OACA;QAAAC;QAAAd;QAAAe;MAAA,GACA;QAAAD;QAAAd;QAAAe;QAAAC;UACA;QACA;MACA,GACA;QAAAF;QAAAd;QAAAe;QAAAC;UACA;QACA;MACA,GACA;QAAAF;QAAAd;UACA;QACA;QAAAe;QAAAC;UACA;QACA;MACA,GACA;QAAAF;QAAAd;UACA;QACA;QAAAe;QAAAC;UACA;QACA;MACA;IAEA;EACA;EACAC;IACAf;MACAgB;QACA;QACA;QACA;QACA;QACA;QACAC;QACAC;QACAA;QAEAA;UACAC;UACAC,0CACAC;QACA;UACA;UACAH;QACA;MACA;MACAI;MACAC;IACA;EACA;EACAC;IACAX;MACA;IACA;IACAY;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACA;IACAC;MACAC;MACAC;QACAZ;MACA;MACAa;QACAb;MACA;IACA;IAEAU;MACAE;QACA;QACA;UAAA;QAAA;QACA;UACAZ;UACAA;UACA;UACA;YACA;YACAP;UACA;UACAA;YAAA;UAAA;UACAO;UACAA;YACAc;YACAA;YACAA;UACA;UACA;QACA;UACA;QACA;QACAd;MACA;IACA;EACA;EACAe;IACAC;MACAN;QAAAO;MAAA;IACA;IACAC;MACA;MACA;QACAR;UAAAS;QAAA;QACAnB;UACAU;UACAA;YAAAS;UAAA;UACAnB;UACA;UACA;UACA;UACA;QACA;UACAU;UACAA;YAAAhB;YAAAyB;UAAA;QACA;MACA;QACAT;UAAAS;QAAA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAX;QACAS;QACAG;QACAV;UACA;YACAF;YACAA;cAAAS;YAAA;YACA;YACAT;cAAAO;YAAA;UACA;QACA;MACA;IACA;IACA;IACAM;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAKA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;IAEA;IACAC;MACA;MACAlB;QACAC;QACA5B;MACA;IACA;IACA8C;MAAA;MACA;MACA7B;MACAA;;MAEA;;MAEAA;QACAC;QACAC,0CACAC;MACA;QACA;QACA;QACA;UACA;UACAH;YACAC;YACAC,0CACAC;UACA;YACAF;YACAC;YACAjB;UACA;YACAyB;cAAAS;YAAA;YACA;UACA;YACAT;cAAAS;YAAA;UACA;QACA;UACA;UACAnB;YACAC;YACAC;YACAjB;UACA;YACAyB;cAAAS;YAAA;YACAnB;UACA;YACAU;cAAAS;YAAA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9QA;AAAA;AAAA;AAAA;AAAqqC,CAAgB,snCAAG,EAAC,C;;;;;;;;;;;ACAzrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"component/sider/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=3902a9e4&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3902a9e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3902a9e4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"component/sider/index.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=3902a9e4&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    zeroSwitch: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/zero-switch/components/zero-switch/zero-switch\" */ \"@/uni_modules/zero-switch/components/zero-switch/zero-switch.vue\"\n      )\n    },\n    uniPopupDialog: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog\" */ \"@/uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.list, function (item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.isType(item.name)\n    var g0 = m0 == \"function\" ? item.name() : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      g0: g0,\n    }\n  })\n  if (!_vm._isMounted) {\n    _vm.e0 = function (item) {\n      var args = [],\n        len = arguments.length - 1\n      while (len-- > 0) args[len] = arguments[len + 1]\n\n      var _temp = args[args.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n      var _temp, _temp2\n      return _vm.silderClick(item)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<uni-popup ref=\"popup\" background-color=\"#fff\" @change=\"change\">\r\n\t\t\t<view :class=\"['popup-content', theme]\">\r\n\t\t\t\t<view class=\"sider-top\"></view>\r\n\t\t\t\t<view class=\"sider-list\">\r\n\t\t\t\t\t<view class=\"sider-item\" v-for=\"item in list\" :key=\"item.id\" @click=\"() => silderClick(item)\">\r\n\t\t\t\t\t\t<uni-icons class=\"sider-icon\" :type=\"item.icon\" size=\"20\" :color=\"colorTheme\"></uni-icons>\r\n\t\t\t\t\t\t<text class=\"sider-name\">{{isType(item.name) == 'function' ? item.name() : item.name}}</text>\r\n\t\t\t\t\t\t<zero-switch  v-model=\"nightShow\" v-if=\"item.id == 1\" :size=\"20\" @change=\"changeBg\"></zero-switch>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t\r\n\t\t<uni-popup ref=\"inputDialog\" type=\"dialog\">\r\n\t\t\t<uni-popup-dialog ref=\"inputClose\"  mode=\"input\" title=\"填写预算\" value=\"\"\r\n\t\t\t\tplaceholder=\"请填写预算\" @confirm=\"dialogInputConfirm\"></uni-popup-dialog>\r\n\t\t</uni-popup>\n\t</view>\n</template>\n\n<script>\r\n\timport dayjs from 'dayjs'\n\texport default {\r\n\t\tname: 'Sider',\r\n\t\tprops: {\r\n\t\t\tcurMonth: String\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tdb: uniCloud.database(),\r\n\t\t\t\tbuget: 0,\r\n\t\t\t\tkeyList: [],\r\n\t\t\t\tallBill: [],\r\n\t\t\t\tuplaodBtn: false,\r\n\t\t\t\tcurrentSize: '0kb',\r\n\t\t\t\tnightShow: false,\r\n\t\t\t\tstartTime: undefined,\r\n\t\t\t\tendTime: undefined,\n\t\t\t\tlist: [\r\n\t\t\t\t\t{ icon: 'circle', name: '夜间', id: 1 },\r\n\t\t\t\t\t{ icon: 'color', name: '主题色', id: 2, fun: () => {\r\n\t\t\t\t\t\t\tthis.toPrimary()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ icon: 'color', name: '上传本地数据', id: 5, fun: () => {\r\n\t\t\t\t\t\t\tthis.uploadStorage()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ icon: 'wallet', name: () => {\r\n\t\t\t\t\t\treturn dayjs(this.curMonth).format('YYYY-MM') + '预算:￥' + this.buget\r\n\t\t\t\t\t\t}, id: 3, fun: () => {\r\n\t\t\t\t\t\t\tthis.openWallet()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ icon: 'trash', name: () => {\r\n\t\t\t\t\t\treturn '退出并清空数据:' + this.currentSize\r\n\t\t\t\t\t}, id: 4, fun: () => {\r\n\t\t\t\t\t\t\tthis.logOut()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t]\n\t\t\t}\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcurMonth: {\r\n\t\t\t\thandler (val) {\r\n\t\t\t\t\tconst that = this\r\n\t\t\t\t\tconst curDate = dayjs(that.curMonth).format('YYYY-MM')\r\n\t\t\t\t\t// console.log(curDate)\r\n\t\t\t\t\tconst yAndM = curDate.toString().split('-')\r\n\t\t\t\t\tlet endDate = this.getMonthDay(yAndM[0], yAndM[1])\r\n\t\t\t\t\tendDate = endDate < 10 ? '0' + endDate: endDate\r\n\t\t\t\t\tthat.startTime = new Date(curDate+'-01 00:00:00').getTime()\r\n\t\t\t\t\tthat.endTime = new Date(curDate+'-'+endDate+' 23:59:59').getTime()\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.db.collection('buget').where({\r\n\t\t\t\t\t\tuserId: that.id,\r\n\t\t\t\t\t\ttime: that.db.command.gte(that.startTime)\r\n\t\t\t\t\t\t\t.and(that.db.command.lte(that.endTime))\r\n\t\t\t\t\t}).get().then(res => {\r\n\t\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\t\tthat.buget = res.result.data.length ? res.result.data[0].buget : 0\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true,\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tid () {\r\n\t\t\t\treturn this.$store.getters.idLive\r\n\t\t\t},\r\n\t\t\ttheme () {\r\n\t\t\t\treturn this.$store.getters.themeLive\r\n\t\t\t},\r\n\t\t\tcolorTheme () {\r\n\t\t\t\treturn this.$store.getters.textColorLive\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tconst that = this\r\n\t\t\t// 判断开关按钮显示\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'theme',\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tthat.nightShow = res.data == 'dark'\r\n\t\t\t\t},\r\n\t\t\t\tfail() {\r\n\t\t\t\t\tthat.nightShow = false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tuni.getStorageInfo({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tconst keys = res.keys.filter(v => v.includes('bill:'))\r\n\t\t\t\t\tif (keys.length) {\r\n\t\t\t\t\t\tthat.keyList = keys\r\n\t\t\t\t\t\tthat.uplaodBtn = true\r\n\t\t\t\t\t\tlet list = []\r\n\t\t\t\t\t\tfor (let i = 0; i < keys.length; i++) {\r\n\t\t\t\t\t\t\tconst data = JSON.parse(uni.getStorageSync(keys[i]))\r\n\t\t\t\t\t\t\tlist = list.concat(data.list)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlist.sort((a,b)=> { return (that.getTimeStr(b.time) - that.getTimeStr(a.time)) })\r\n\t\t\t\t\t\tthat.allBill = list\r\n\t\t\t\t\t\tthat.allBill.map(v => {\r\n\t\t\t\t\t\t\tv.userId = that.id\r\n\t\t\t\t\t\t\tv.time = new Date(v.time + ':00').getTime()\r\n\t\t\t\t\t\t\tv.createdTime = undefined\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// console.log(that.allBill)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.uplaodBtn = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.currentSize = res.currentSize < 1024 ? (res.currentSize + 'KB') : ((res.currentSize / 1024) + 'MB')\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t},\n\t\tmethods: {\r\n\t\t\ttoPrimary () {\r\n\t\t\t\tuni.navigateTo({ url: '/pages/primary/primary' })\r\n\t\t\t},\r\n\t\t\tuploadStorage () {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tif (that.uplaodBtn) {\r\n\t\t\t\t\tuni.showLoading({ title: '上传中' })\r\n\t\t\t\t\tthat.db.collection('bill').add(that.allBill).then(() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showToast({title: '上传成功'})\r\n\t\t\t\t\t\tthat.$emit('initBill')\r\n\t\t\t\t\t\t// that.keyList.forEach(v => {\r\n\t\t\t\t\t\t// \tuni.removeStorage(v)\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t// that.uplaodBtn = false\r\n\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showToast({icon:'error',title: '上传失败'})\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({title: '无本地账单'})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topenWallet () {\r\n\t\t\t\tthis.$refs.inputDialog.open('center')\r\n\t\t\t},\r\n\t\t\tlogOut () {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '清空数据后，数据无法找回，确认清空吗？',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res?.confirm) {\r\n\t\t\t\t\t\t\tuni.clearStorage()\r\n\t\t\t\t\t\t\tuni.showToast({title: '清空数据成功'})\r\n\t\t\t\t\t\t\t// that.$emit('initBill')\r\n\t\t\t\t\t\t\tuni.navigateTo({ url: '/pages/login/index' })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 返回时间戳\r\n\t\t\tgetTimeStr(v) {\r\n\t\t\t\treturn new Date(v).getTime()\r\n\t\t\t},\r\n\t\t\tgetMonthDay(year, month) {\r\n\t\t\t  let days = new Date(year, Number(month), 0).getDate()\r\n\t\t\t  return days\r\n\t\t\t},\r\n\t\t\tchange (e) {\r\n\t\t\t\tthis.$emit('change', e)\r\n\t\t\t},\r\n\t\t\tisType (val) {\r\n\t\t\t  let type = Object.prototype.toString.call(val).replace(']', '').split(' ')[1].toLocaleLowerCase()\r\n\t\t\t  return type\r\n\t\t\t},\r\n\t\t\tsilderClick (item) {\r\n\t\t\t\t// #ifdef APP-PLUS || H5\r\n\t\t\t\titem.fun && item.fun()\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tif (item.id == 2) {\r\n\t\t\t\t\tthis.toPrimary()\r\n\t\t\t\t}\r\n\t\t\t\tif (item.id == 3) {\r\n\t\t\t\t\tthis.openWallet()\r\n\t\t\t\t}\r\n\t\t\t\tif (item.id == 4) {\r\n\t\t\t\t\tthis.logOut()\r\n\t\t\t\t}\r\n\t\t\t\tif (item.id == 5) {\r\n\t\t\t\t\tthis.uploadStorage()\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tchangeBg (value) {\r\n\t\t\t\tthis.$store.commit('changeTheme', this.$store.getters.themeLive == 'light' ? 'dark' : 'light')\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: 'theme',\r\n\t\t\t\t\tdata: this.$store.getters.themeLive\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdialogInputConfirm (val) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.buget = val\r\n\t\t\t\tthat.$refs.inputDialog.close()\r\n\t\t\t\t\r\n\t\t\t\t// const curDate = dayjs(that.curMonth).format('YYYY-MM')\r\n\t\t\t\t\t\r\n\t\t\t\tthat.db.collection('buget').where({\r\n\t\t\t\t\tuserId: that.id,\r\n\t\t\t\t\ttime: that.db.command.gte(that.startTime)\r\n\t\t\t\t\t\t.and(that.db.command.lte(that.endTime))\r\n\t\t\t\t}).get().then(res => {\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\t// that.buget = res.result.data.length ? res.result.data[0].buget : 0\r\n\t\t\t\t\tif (res.result.data.length) {\r\n\t\t\t\t\t\t// 修改预算\r\n\t\t\t\t\t\tthat.db.collection('buget').where({\r\n\t\t\t\t\t\t\tuserId: that.id,\r\n\t\t\t\t\t\t\ttime: that.db.command.gte(that.startTime)\r\n\t\t\t\t\t\t\t\t.and(that.db.command.lte(that.endTime))\r\n\t\t\t\t\t\t}).update({\r\n\t\t\t\t\t\t\tuserId: that.id,\r\n\t\t\t\t\t\t\ttime: that.startTime,\r\n\t\t\t\t\t\t\tbuget: that.buget\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tuni.showToast({title: '修改预算成功'})\r\n\t\t\t\t\t\t\tthis.$emit('initBuget')\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\tuni.showToast({title: '修改预算失败'})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 添加预算\r\n\t\t\t\t\t\tthat.db.collection('buget').add({\r\n\t\t\t\t\t\t\tuserId: that.id,\r\n\t\t\t\t\t\t\ttime: that.startTime,\r\n\t\t\t\t\t\t\tbuget: that.buget\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tuni.showToast({title: '添加预算成功'})\r\n\t\t\t\t\t\t\tthat.$emit('initBuget')\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\tuni.showToast({title: '添加预算失败'})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n.popup-content {\r\n\twidth: 500rpx;\r\n\tmin-height: 100vh;\r\n\t// background: var(--theme-body-bg);\r\n\t\r\n\t.sider-top {\r\n\t\twidth: 100%;\r\n\t\theight: 300rpx;\r\n\t\tbackground: url('https://gem530.github.io/static/sider-bg.jpg') no-repeat;\r\n\t\tbackground-size: cover;\r\n\t\tborder-radius: 0 0 15rpx 15rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.sider-list {\r\n\t\t.sider-item {\r\n\t\t\t@include flex(flex-start, center);\r\n\t\t\tpadding: 15rpx 25rpx;\r\n\t\t\t// color: var(--theme-text-color);\r\n\t\t\t\r\n\t\t\t.sider-icon {\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.sider-name {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3902a9e4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3902a9e4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1692959886452\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}