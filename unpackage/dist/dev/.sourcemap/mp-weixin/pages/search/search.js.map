{"version":3,"sources":["webpack:///E:/uni-project/book-keeping/pages/search/search.vue?aa8b","uni-app:///pages/search/search.vue","webpack:///E:/uni-project/book-keeping/pages/search/search.vue?c4df","webpack:///E:/uni-project/book-keeping/pages/search/search.vue?8ba6","uni-app:///main.js",null,"webpack:///E:/uni-project/book-keeping/pages/search/search.vue?4036","webpack:///E:/uni-project/book-keeping/pages/search/search.vue?f63b"],"names":["components","NavBar","FilterPop","BiaofunDatetimePicker","computed","id","theme","colorTheme","primaryTheme","data","db","allBill","billList","searchTxt","typeList","endTime","startTime","monthIncome","monthOutput","curMonth","chinesWeek","chinseMonths","onShow","methods","getMonthDay","getTimeStr","getData","uni","success","list","that","resolve","fail","reject","initFilter","params","filterBill","userId","time","and","remark","orderBy","get","tempList","v","dateList","date","daybalance","formatDate","toggle","change","console","toPath","url","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACgGvnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAIA;EACAA;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QACA;QACAC;UACAC;YACA;cAAA;YAAA;YACA;YACA;cACA;cACAC;YACA;YACAA;cAAA;YAAA;YACAC;YACAC;UACA;UACAC;YACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA,IACAnB,UAGAoB,OAHApB;QACAD,WAEAqB,OAFArB;QACAE,YACAmB,OADAnB;MAGA;MACA;MACA;MAEA;IACA;IACA;IACAoB;MACA;MACAN;MACAA;MAEA;MACA;QACAO;QACAC,yDACAC;QACA;QACAC;MACA,GACAC;MAAA,CACAC;QACA;QACA;QACAZ;;QAEA;QACA;UACA;QAAA,CACA;QACA;QACAa;UACA;UACA,4DACAb;UAEAc;UACA;UACA;YAAA;UAAA;UACA;YACAC;YACAA;YACAA;UACA;YACAA;cAAAC;cAAAC;cAAAlB;YAAA;UACA;QACA;QACAC;QACAA;QACAA;QACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;IACA;IACAkB;MAAA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;IACA;IACAC;MACAzB;QAAA0B;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxSA;AAAA;AAAA;AAAA;AAAsqC,CAAgB,unCAAG,EAAC,C;;;;;;;;;;;ACA1rC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAE2D;AAC3D;AACA;AAHA;AACAC,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA","file":"pages/search/search.js","sourcesContent":["import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :class=\"['content', theme]\">\r\n\t\t<!-- 导航栏 -->\r\n\t\t<NavBar>\r\n\t\t\t<template #center>\r\n\t\t\t\t<!-- <biaofun-datetime-picker\r\n\t\t\t\t\tend=\"2100\"\r\n\t\t\t\t\tstart=\"2000\"\r\n\t\t\t\t\tfields=\"month\"\r\n\t\t\t\t\t:defaultValue=\"curMonth\"\r\n\t\t\t\t\tplaceholder=\"请选择开始时间\"\r\n\t\t\t\t\t@change=\"changeDatetimePicker\"\r\n\t\t\t\t></biaofun-datetime-picker> -->\r\n\t\t\t\t<input type=\"text\" placeholder=\"备注\" v-model=\"searchTxt\" @input=\"filterBill\">\r\n\t\t\t</template>\r\n\t\t\t<template #right><uni-icons type=\"settings\" size=\"20\" :color=\"colorTheme\" @click=\"toggle\"></uni-icons></template>\r\n\t\t</NavBar>\r\n\t\t\r\n\t\t<!-- 总结余 -->\r\n\t\t<view class=\"balance\" :style=\"{background: primaryTheme + ' !important'}\">\r\n\t\t\t<view class=\"balance-list\">\r\n\t\t\t\t<view class=\"balance-item\">\r\n\t\t\t\t\t<view class=\"balance-info\">\r\n\t\t\t\t\t\t<view class=\"balance-item-title\">总结余</view>\r\n\t\t\t\t\t\t<view class=\"balance-item-value font-max\">￥{{(Number(monthIncome - Math.abs(monthOutput)) * 100 / 100).toFixed(2)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"balance-list\">\r\n\t\t\t\t<view class=\"balance-item\" @click=\"toPath('/pageSub/pages/statistics/statistics?type=income')\">\r\n\t\t\t\t\t<uni-icons type=\"plus-filled\" size=\"35\" color=\"#ddd\"></uni-icons>\r\n\t\t\t\t\t<view class=\"balance-info\">\r\n\t\t\t\t\t\t<view class=\"balance-item-title\">收入</view>\r\n\t\t\t\t\t\t<view class=\"balance-item-value\">￥{{monthIncome}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"balance-item\" @click=\"toPath('/pageSub/pages/statistics/statistics?type=output')\">\r\n\t\t\t\t\t<uni-icons type=\"minus-filled\" size=\"35\" color=\"#ddd\"></uni-icons>\r\n\t\t\t\t\t<view class=\"balance-info\">\r\n\t\t\t\t\t\t<view class=\"balance-item-title\">支出</view>\r\n\t\t\t\t\t\t<view class=\"balance-item-value\">￥{{monthOutput}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 账单列表 -->\r\n\t\t<view class=\"bill\" v-if=\"billList.length\">\r\n\t\t\t<view\r\n\t\t\t\t:key=\"el.id\"\r\n\t\t\t\t class=\"bill-list-item\"\r\n\t\t\t\tv-for=\"el in billList\">\r\n\t\t\t\t<view class=\"bill-list-item-title\">\r\n\t\t\t\t\t{{formatDate(el.date, 'MM/DD')}}\r\n\t\t\t\t\t<text class=\"bill-list-week\">{{chinesWeek[formatDate(el.date, 'd')]}}</text>\r\n\t\t\t\t\t<text class=\"bill-list-daybalance\">￥{{el.daybalance}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view\r\n\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\tclass=\"bill-item\"\r\n\t\t\t\t\tv-for=\"item in el.list\">\r\n\t\t\t\t\t<view class=\"bill-left\">\r\n\t\t\t\t\t\t<i :class=\"['iconfont', item.amountType.icon]\" :style=\"{'color': item.amountType.color || primaryTheme}\"></i>\r\n\t\t\t\t\t\t<view class=\"bill-left-type\">\r\n\t\t\t\t\t\t\t<view class=\"bill-type-name\">{{item.amountType.name}}</view>\r\n\t\t\t\t\t\t\t<view class=\"bill-type-remark\">{{item.remark}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bill-right\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t:class=\"['bill-amount', item.type == 1 ? '' : 'red']\"\r\n\t\t\t\t\t\t\t:style=\"{'color': item.type == 1 ? primaryTheme : ''}\"\r\n\t\t\t\t\t\t>￥{{item.amount}}</view>\r\n\t\t\t\t\t\t<view class=\"bill-time\">{{item.time}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"bill-empty\" v-else>\r\n\t\t\t<view class=\"bill-empty-month\">{{chinseMonths[formatDate(curMonth, 'M') - 1]}}月</view>\r\n\t\t\t<view class=\"bill-empty-text\">无账单，快去记录你的账单吧~</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 侧边栏 -->\r\n\t\t<FilterPop\r\n\t\t\tref=\"FilterPop\"\r\n\t\t\t:endTime.sync=\"endTime\"\r\n\t\t\t:typeList.sync=\"typeList\"\r\n\t\t\t:startTime.sync=\"startTime\"\r\n\t\t\t@change=\"change\"\r\n\t\t\t@initFilter=\"initFilter\"\r\n\t\t></FilterPop>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport dayjs from 'dayjs'\r\n\timport NavBar from '@/component/nav-bar/nav-bar.vue'\r\n\timport FilterPop from '@/component/filter-pop/index.vue'\r\n\timport BiaofunDatetimePicker from '@/component/biaofun-datetime-picker/biaofun-datetime-picker.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tNavBar,\r\n\t\t\tFilterPop,\r\n\t\t\tBiaofunDatetimePicker,\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tid () {\r\n\t\t\t\treturn this.$store.getters.idLive\r\n\t\t\t},\r\n\t\t\ttheme () {\r\n\t\t\t\treturn this.$store.getters.themeLive\r\n\t\t\t},\r\n\t\t\tcolorTheme () {\r\n\t\t\t\treturn this.$store.getters.textColorLive\r\n\t\t\t},\r\n\t\t\tprimaryTheme () {\r\n\t\t\t\treturn this.$store.getters.primaryColorLive\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdb: uniCloud.database(),\r\n\t\t\t\tallBill: [], // 进入页面时，获取所有的账单数据\r\n\t\t\t\tbillList: [], // 符合条件的账单数据\r\n\t\t\t\tsearchTxt: undefined, // 搜索条件\r\n\t\t\t\ttypeList: [], // 收入/支出 分类\r\n\t\t\t\tendTime: dayjs(new Date()).format('YYYY-MM-DD') + ' 23:59', // 结束时间\r\n\t\t\t\tstartTime: dayjs(new Date().getTime() - (1000 * 60 * 60 * 24 * 30)).format('YYYY-MM-DD') + ' 00:00', // 开始时间\r\n\t\t\t\t\r\n\t\t\t\tmonthIncome: 0, // 收入\r\n\t\t\t\tmonthOutput: 0, // 支出\r\n\t\t\t\tcurMonth: dayjs(new Date()).format('YYYY-MM-DD HH:mm'),\r\n\t\t\t\tchinesWeek: ['周日','周一','周二','周三','周四','周五','周六'],\r\n\t\t\t\tchinseMonths: ['一','二','三','四','五','六','七','八','九','十','十一','十二'],\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onShow() {\r\n\t\t\tawait this.getData()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetMonthDay(year, month) {\r\n\t\t\t  let days = new Date(year, Number(month), 0).getDate()\r\n\t\t\t  return days\r\n\t\t\t},\r\n\t\t\t// 返回时间戳\r\n\t\t\tgetTimeStr(v) {\r\n\t\t\t\treturn new Date(v).getTime()\r\n\t\t\t},\r\n\t\t\tgetData () {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst that = this\r\n\t\t\t\t\tuni.getStorageInfo({\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconst keys = res.keys.filter(v => v.includes('bill:'))\r\n\t\t\t\t\t\t\tlet list = []\r\n\t\t\t\t\t\t\tfor (let i = 0; i < keys.length; i++) {\r\n\t\t\t\t\t\t\t\tconst data = JSON.parse(uni.getStorageSync(keys[i]))\r\n\t\t\t\t\t\t\t\tlist = list.concat(data.list)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlist.sort((a,b)=> { return (that.getTimeStr(b.time) - that.getTimeStr(a.time)) })\r\n\t\t\t\t\t\t\tthat.allBill = list\r\n\t\t\t\t\t\t\tresolve(true)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\treject(false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 初始化筛选条件\r\n\t\t\tinitFilter (params) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tendTime,\r\n\t\t\t\t\ttypeList,\r\n\t\t\t\t\tstartTime\r\n\t\t\t\t} = params\r\n\t\t\t\t\r\n\t\t\t\tthis.endTime = endTime\r\n\t\t\t\tthis.typeList = typeList\r\n\t\t\t\tthis.startTime = startTime\r\n\t\t\t\t\r\n\t\t\t\tthis.filterBill()\r\n\t\t\t},\r\n\t\t\t// 筛选账单\r\n\t\t\tfilterBill () {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.monthIncome = 0\r\n\t\t\t\tthat.monthOutput = 0\r\n\t\t\t\t\r\n\t\t\t\tconst dbcmd = that.db.command\r\n\t\t\t\tthis.db.collection('bill').where({\r\n\t\t\t\t\tuserId: this.id,\r\n\t\t\t\t\ttime: dbcmd.gte(that.getTimeStr(that.startTime + ':00'))\r\n\t\t\t\t\t\t.and(dbcmd.lte(that.getTimeStr(that.endTime + ':59'))),\r\n\t\t\t\t\t'amountType.name': that.typeList.length ? dbcmd.in(that.typeList) : dbcmd.nin([]),\r\n\t\t\t\t\tremark: new RegExp(that.searchTxt),\r\n\t\t\t\t})\r\n\t\t\t\t.orderBy('time', 'desc') // 1字段排序的字段 2字段排序的顺序，升序(asc) 或 降序(desc)\r\n\t\t\t\t.get().then((res) => {\r\n\t\t\t\t\tconst data = res.result.data\r\n\t\t\t\t\tconst tempList = data\r\n\t\t\t\t\tthat.billList = []\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 按照日期排序\r\n\t\t\t\t\tconst dateList = [\r\n\t\t\t\t\t\t// { date: 'xxxx-xx-xx', daybalance: 0, list: [] }\r\n\t\t\t\t\t]\r\n\t\t\t\t\tif (!data.length) return\r\n\t\t\t\t\ttempList.map(v => {\r\n\t\t\t\t\t\t// 计算总收入和总支出\r\n\t\t\t\t\t\tif (v.type === 1) that.monthIncome += Number(v.amount)\r\n\t\t\t\t\t\telse that.monthOutput += Number(v.amount)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tv.time = dayjs(v.time).format('YYYY-MM-DD HH:mm')\r\n\t\t\t\t\t\tconst date = dayjs(v.time).format('YYYY-MM-DD')\r\n\t\t\t\t\t\tconst index = dateList.findIndex(el => el.date == date)\r\n\t\t\t\t\t\tif (index != -1) {\r\n\t\t\t\t\t\t\tdateList[index].list.push(v)\r\n\t\t\t\t\t\t\tdateList[index].daybalance += Number(v.amount)\r\n\t\t\t\t\t\t\tdateList[index].daybalance = (dateList[index].daybalance * 100) / 100\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdateList.push({ date, daybalance: Number(v.amount) * 100 / 100, list: [v] })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthat.monthIncome = (that.monthIncome * 100) / 100\r\n\t\t\t\t\tthat.monthOutput = (that.monthOutput * 100) / 100\r\n\t\t\t\t\tthat.billList = dateList\r\n\t\t\t\t\t// console.log(data, that.billList)\r\n\t\t\t\t})\r\n\t\t\t\t// const that = this\r\n\t\t\t\t// const curDate = dayjs(that.curMonth).format('YYYY-MM')\r\n\t\t\t\t// that.monthIncome = 0\r\n\t\t\t\t// that.monthOutput = 0\r\n\t\t\t\t\r\n\t\t\t\t// const tempList = that.allBill.filter(v => {\r\n\t\t\t\t// \tconst curTime = that.getTimeStr(v.time)\r\n\t\t\t\t// \tconst res = (\r\n\t\t\t\t// \t\t// 时间 搜索\r\n\t\t\t\t// \t\t(curTime >= that.getTimeStr(that.startTime) && curTime <= that.getTimeStr(that.endTime)) &&\r\n\t\t\t\t// \t\t// 金额/分类/备注 搜索\r\n\t\t\t\t// \t\t(that.searchTxt ? (\r\n\t\t\t\t// \t\t\tv.amount.toString().indexOf(that.searchTxt) !== -1 ||\r\n\t\t\t\t// \t\t\tv.amountType.name.indexOf(that.searchTxt) !== -1 ||\r\n\t\t\t\t// \t\t\tv.remark.indexOf(that.searchTxt) !== -1\r\n\t\t\t\t// \t\t) : true) &&\r\n\t\t\t\t// \t\t// 收入/支出分类 搜索\r\n\t\t\t\t// \t\t(that.typeList.length ? that.typeList.includes(v.amountType.name) : true)\r\n\t\t\t\t// \t)\r\n\t\t\t\t// \treturn res\r\n\t\t\t\t// })\r\n\t\t\t\t\r\n\t\t\t\t// // if (tempList.length) {\r\n\t\t\t\t// // 按照日期排序\r\n\t\t\t\t// tempList.sort((a,b)=> { return (that.getTimeStr(b.time) - that.getTimeStr(a.time)) })\r\n\t\t\t\t// tempList.forEach((v) => {\r\n\t\t\t\t// \t// 计算总收入和总支出\r\n\t\t\t\t// \tif (v.type === 1) that.monthIncome += v.amount\r\n\t\t\t\t// \telse that.monthOutput += v.amount\r\n\t\t\t\t// })\r\n\t\t\t\t// that.monthIncome = (that.monthIncome * 100) / 100\r\n\t\t\t\t// that.monthOutput = (that.monthOutput * 100) / 100\r\n\t\t\t\t\r\n\t\t\t\t// // 按照日期排序\r\n\t\t\t\t// const dateList = [\r\n\t\t\t\t// \t// { date: 'xxxx-xx-xx', daybalance: 0, list: [] }\r\n\t\t\t\t// ]\r\n\t\t\t\t// tempList.map((v) => {\r\n\t\t\t\t// \tconst date = dayjs(v.time).format('YYYY-MM-DD')\r\n\t\t\t\t// \tconst index = dateList.findIndex(el => el.date == date)\r\n\t\t\t\t// \tif (index != -1) {\r\n\t\t\t\t// \t\tdateList[index].list.push(v)\r\n\t\t\t\t// \t\tdateList[index].daybalance += v.amount\r\n\t\t\t\t// \t\tdateList[index].daybalance = (dateList[index].daybalance * 100) / 100\r\n\t\t\t\t// \t} else {\r\n\t\t\t\t// \t\tdateList.push({ date, daybalance: v.amount, list: [v] })\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t\t\r\n\t\t\t\t// that.billList = dateList\r\n\t\t\t\t// // }\r\n\t\t\t},\r\n\t\t\tformatDate (value, format = 'YYYY-MM-DD') {\r\n\t\t\t\tconst res = dayjs(value).format(format)\r\n\t\t\t\treturn res\r\n\t\t\t},\r\n\t\t\ttoggle() {\r\n\t\t\t\tthis.$refs.FilterPop.$refs.filterPop.open('right')\r\n\t\t\t},\r\n\t\t\tchange (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t},\r\n\t\t\ttoPath (v) {\r\n\t\t\t\tuni.navigateTo({url: v})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.content {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-start;\r\n\tmin-height: 100vh;\r\n\tpadding: 0 0 30rpx;\r\n\t// background: var(--theme-body-bg);\r\n\t\r\n\t.balance {\r\n\t\twidth: 710rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin: 20rpx 0;\r\n\t\tcolor: #ffffff;\r\n\t\tborder-radius: 15rpx;\r\n\t\t\r\n\t\t.balance-list {\r\n\t\t\t@include flex(flex-start);\r\n\t\t\t\r\n\t\t\t&:not(:last-child) {\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.balance-item {\r\n\t\t\t\t@include flex(flex-start);\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t\r\n\t\t\t\t.uni-icons {\r\n\t\t\t\t\tmargin-right: 5rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.balance-info {\r\n\t\t\t\t\t.balance-item-title {\r\n\t\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #ddd;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.balance-item-value {\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&.font-max {\r\n\t\t\t\t\t\t\tfont-size: 38rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.bill {\r\n\t\twidth: 710rpx;\r\n\t\t\r\n\t\t.bill-list-item {\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\t\r\n\t\t\t.bill-list-item-title {\r\n\t\t\t\t@include flex(flex-start, flex-end);\r\n\t\t\t\tpadding: 10rpx 5rpx;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tletter-spacing: 2rpx;\r\n\t\t\t\t\r\n\t\t\t\t.bill-list-week {\r\n\t\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #ddd;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.bill-list-daybalance {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #ddd;\r\n\t\t\t\t\ttext-align: right;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.bill-item {\r\n\t\t\t\t@include flex(space-between);\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\tborder: 1px solid #ddd;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\r\n\t\t\t\t.bill-left {\r\n\t\t\t\t\t@include flex(flex-start);\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.iconfont {\r\n\t\t\t\t\t\tmargin-right: 5rpx;\r\n\t\t\t\t\t\tfont-size: 60rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.bill-left-type {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t.bill-type-name {\r\n\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.bill-type-remark {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tcolor: #ddd;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.bill-right {\r\n\t\t\t\t\twidth: 210rpx;\r\n\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.bill-amount {\r\n\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// &.red {\r\n\t\t\t\t\t\t// \tcolor: orangered;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.bill-time {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #ddd;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.bill-empty {\r\n\t\tpadding-top: 120rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #dfd9d9;\r\n\t\t.bill-empty-month {\r\n\t\t\tfont-size: 70rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t}\r\n\t\t.bill-empty-text {\r\n\t\t\tmargin-top: 40rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.dark {\r\n\t.budget {\r\n\t\tbackground: rgba($color: #000000, $alpha: 0.3);\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=4cedc0c6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=4cedc0c6&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1692960320755\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&scoped=true&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=4cedc0c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cedc0c6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=4cedc0c6&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = (\n    (Number(_vm.monthIncome - Math.abs(_vm.monthOutput)) * 100) /\n    100\n  ).toFixed(2)\n  var g1 = _vm.billList.length\n  var l0 = g1\n    ? _vm.__map(_vm.billList, function (el, __i0__) {\n        var $orig = _vm.__get_orig(el)\n        var m0 = _vm.formatDate(el.date, \"MM/DD\")\n        var m1 = _vm.formatDate(el.date, \"d\")\n        return {\n          $orig: $orig,\n          m0: m0,\n          m1: m1,\n        }\n      })\n    : null\n  var m2 = !g1 ? _vm.formatDate(_vm.curMonth, \"M\") : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        l0: l0,\n        m2: m2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }"],"sourceRoot":""}